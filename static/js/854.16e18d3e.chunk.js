"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[854],{3470:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var o=n(5043),s=n(3003),r=n(3701);const i="users_userPhoto__iEONs",l=n.p+"static/media/userPng.174cd90b5a7f1d66f9bc.png";var c=n(5475);n(5479);const a="Paginator_paginator__lmAqq",u="Paginator_pageNumber__h2JTd",p="Paginator_selectedPage__UMlW0";var d=n(579);const g=e=>{let t=Math.ceil(e.totalUsersCount/e.pageSize),n=[];for(let o=1;o<=t;o++)n.push(o);let s=Math.ceil(t/e.portionSize),[r,i]=(0,o.useState)(1),l=(r-1)*e.portionSize+1,c=r*e.portionSize;return(0,d.jsxs)("div",{className:a,children:[r>1&&(0,d.jsx)("button",{onClick:()=>{i(r-1)},children:"PREV"}),n.filter((e=>e>=l&&e<=c)).map((t=>(0,d.jsx)("span",{className:"".concat(e.currentPage===t?p:""," ").concat(u),onClick:()=>{e.onPageChanged(t)},children:t},t))),s>r&&(0,d.jsx)("button",{onClick:()=>{i(r+1)},children:"NEXT"})]})},f=e=>(0,d.jsxs)("div",{children:[(0,d.jsx)(g,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:25}),"          ",e.users.map((t=>(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{children:(0,d.jsx)(c.k2,{to:"/profile/"+t.id,children:(0,d.jsx)("img",{src:null!=t.photos.small?t.photos.small:l,className:i})})}),(0,d.jsx)("div",{children:t.followed?(0,d.jsx)("button",{disabled:e.followingInProgress.some((e=>e===t.id)),onClick:()=>{e.unfollow(t.id)},children:"Unfollow"}):(0,d.jsx)("button",{disabled:e.followingInProgress.some((e=>e===t.id)),onClick:()=>{e.follow(t.id)},children:"Follow"})})]}),(0,d.jsxs)("span",{children:[(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{children:t.name}),(0,d.jsx)("div",{children:t.status})]}),(0,d.jsxs)("span",{children:[(0,d.jsx)("div",{children:"u.location.country"}),(0,d.jsx)("div",{children:"u.location.city"})]})]})]},t.id)))]});var h=n(1248),m=n(3923);n(7863),n(9526);function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var v=e=>Array.isArray(e)?e:[e];function w(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var P="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},j=0,x=1;function b(){return{s:j,v:void 0,o:null,p:null}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=b();const{resultEqualityCheck:o}=t;let s,r=0;function i(){let t=n;const{length:i}=arguments;for(let e=0,n=i;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const o=e.get(n);void 0===o?(t=b(),e.set(n,t)):t=o}else{let e=t.p;null===e&&(t.p=e=new Map);const o=e.get(n);void 0===o?(t=b(),e.set(n,t)):t=o}}const l=t;let c;if(t.s===x)c=t.v;else if(c=e.apply(null,arguments),r++,o){var a,u,p;const e=null!==(a=null===(u=s)||void 0===u||null===(p=u.deref)||void 0===p?void 0:p.call(u))&&void 0!==a?a:s;null!=e&&o(e,c)&&(c=e,0!==r&&r--);s="object"===typeof c&&null!==c||"function"===typeof c?new P(c):c}return l.s=x,l.v=c,c}return i.clearCache=()=>{n=b(),i.resetResultsCount()},i.resultsCount=()=>r,i.resetResultsCount=()=>{r=0},i}function z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];const s="function"===typeof e?{memoize:e,memoizeOptions:n}:e,r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let o,r=0,i=0,l={},c=t.pop();"object"===typeof c&&(l=c,c=t.pop()),y(c,"createSelector expects an output function after the inputs, but received: [".concat(typeof c,"]"));const a={...s,...l},{memoize:u,memoizeOptions:p=[],argsMemoize:d=C,argsMemoizeOptions:g=[],devModeChecks:f={}}=a,h=v(p),m=v(g),P=w(t),j=u((function(){return r++,c.apply(null,arguments)}),...h);const x=d((function(){i++;const e=function(e,t){const n=[],{length:o}=e;for(let s=0;s<o;s++)n.push(e[s].apply(null,t));return n}(P,arguments);return o=j.apply(null,e),o}),...m);return Object.assign(x,{resultFunc:c,memoizedResultFunc:j,dependencies:P,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:u,argsMemoize:d})};return Object.assign(r,{withTypes:()=>r}),r}var S=z(C),k=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),o=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce(((e,t,o)=>(e[n[o]]=t,e)),{})}));return o}),{withTypes:()=>k});const _=S((e=>e.usersPage.users),(e=>e.filter((e=>!0)))),R=e=>e.usersPage.pageSize,U=e=>e.usersPage.totalUsersCount,A=e=>e.usersPage.currentPage,E=e=>e.usersPage.isFetching,M=e=>e.usersPage.followingInProgress;class O extends o.Component{constructor(){super(...arguments),this.onPageChanged=e=>{this.props.requestUsers(e,this.props.pageSize)}}componentDidMount(){this.props.requestUsers(this.props.currentPage,this.props.pageSize)}render(){return console.log("RENDER USERS"),(0,d.jsxs)(d.Fragment,{children:[this.props.isFetching?(0,d.jsx)(h.A,{}):null,(0,d.jsx)(f,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,unfollow:this.props.unfollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress})]})}}const T=(0,m.Zz)((0,s.Ng)((e=>(console.log("mapStateToProps users"),{users:_(e),pageSize:R(e),totalUsersCount:U(e),currentPage:A(e),isFetching:E(e),followingInProgress:M(e)})),{setCurrentPage:r.Tm,toogleFollowingProgress:r.r0,follow:r.e6,unfollow:r.X2,requestUsers:r.AI}))(O)}}]);
//# sourceMappingURL=854.16e18d3e.chunk.js.map